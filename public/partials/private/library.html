<div menu="library"></div>
<div class="container"><!-- style="margin-top:40px">-->
	<div class="row" style="height:70px">
	</div>
	<div class="row">
		<div class="col-xs-12 col-sm-7 col-md-8 col-lg-9">
			<h2 class="text-center">{{ 'NAV.LIBRARY' | translate }}</h2>
			<div ng-if="disable" class="well text-center" style="background-color:#C2BF04">
				{{ 'LIBRARY.ALERT' | translate }}
			</div>
			<ul class="bookview">
				<li class="col-lg-4 col-md-6 col-sm-12" ng-repeat="book in mybooks | filter:search">
					<div class="well" ng-click="open(book)" style="padding-right:28px;">
						<h4>{{book.title | shorten:41}}</h4>
						<i style="position:absolute;bottom:20px">{{book.author | shorten:25}}</i>
						<i class="icon-edit icon-large" style="margin-right:15px; position:absolute; top:19px; right:4px"></i>
					</div>
				</li>
			</ul>
		</div>
		<div class="col-xs-12 col-sm-5 col-md-4 col-lg-3">
			<div class="row">
				<div class="col-lg-12">
					<h3 class="text-center">{{ 'LIBRARY.ADD.HEADING' | translate }}</h3>
					<form class="form">
						<fieldset>
							<!-- <legend>Legend</legend> -->
							<p>{{ 'LIBRARY.ADD.TEXT' | translate }}</p>
							<div class="form-group">
								<label class="" for="new_isbn"><abbr title="{{'LIBRARY.ADD.ISBN_ABBR' | translate}}">{{ 'LIBRARY.ADD.ISBN' | translate }}:</abbr></label>
								<input type="text" id="new_isbn" ng-model="newbook.isbn" class="form-control" placeholder="{{ 'LIBRARY.ADD.ISBN' | translate }}" typeahead="book.isbn as book.title + ' || ' + book.author for book in check(books, 'isbn', $viewValue) | filter:$viewValue | limitTo:8" typeahead-on-select="selectBook(); searchTel(newbook.isbn)" ng-change="searchTel(newbook.isbn)">
							</div>
							<div class="form-group">
								<label class="" for="new_title">{{ 'LIBRARY.ADD.TITLE' | translate }}:</label>
								<input type="text" id="new_title" ng-model="newbook.title" class="form-control" placeholder="{{ 'LIBRARY.ADD.TITLE' | translate }}" typeahead="book.title as book.title + ' || ' + book.author for book in check(books, 'title') | filter:$viewValue | limitTo:8" typeahead-on-select="selectBook()" typeahead-min-length="0">
							</div>
							<div class="form-group">
								<label class="" for="new_author">{{ 'LIBRARY.ADD.AUTHOR' | translate }}:</label>
								<input type="text" id="new_author" ng-model="newbook.author" class="form-control" placeholder="{{ 'LIBRARY.ADD.AUTHOR' | translate }}" typeahead="book.author as book.author + ' || ' + book.title for book in check(books, 'author') | filter:$viewValue | limitTo:8" typeahead-on-select="selectBook()">
							</div>
							<hr>

							<p>{{ 'LIBRARY.ADD.OPTIONAL' | translate }}: &nbsp; <i ng-class="{'icon-caret-up':optional, 'icon-caret-down':!optional}" class="icon-2x" ng-click="optional=!optional" ng-init="optional=false" style="cursor:pointer"></i></p>
							<div ng-show="optional">
								<div class="form-group">
									<label class="" for="new_subtitle">{{ 'LIBRARY.ADD.SUBTITLE' | translate }}:</label>
									<input type="text" id="new_subtitle" ng-model="newbook.subtitle" class="form-control" placeholder="{{ 'LIBRARY.ADD.SUBTITLE' | translate }}">
								</div>
								<div class="form-inline row form-group">
									<div class="form-group col-xs-6">
										<label class="" for="new_edition">{{ 'LIBRARY.ADD.EDITION' | translate }}:</label>
										<!--<input type="text" id="new_edition" ng-model="newbook.edition" class="form-control" placeholder="Edition">-->
										<select class="form-control" id="new_edition" ng-model="newbook.edition" ng-init="newbook.edition=1">
											<option value="1" selected="selected">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
											<option value="4">4</option>
											<option value="5">5</option>
										</select>
									</div>
									<div class="form-group col-xs-6">
										<label class="" for="new_volume">{{ 'LIBRARY.ADD.VOLUME' | translate }}:</label>
										<select class="form-control" id="new_volume" ng-model="newbook.volume" ng-init="newbook.volume=1">
											<option value="1" selected="selected">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
											<option value="4">4</option>
											<option value="5">5</option>
										</select>
									</div>
								</div>
								<div class="form-inline row form-group">
									<div class="form-group col-xs-6">
										<label class="" for="new_published">{{ 'LIBRARY.ADD.PUBLISHED' | translate }}:</label>
										<input type="text" id="new_published" ng-model="newbook.published" class="form-control" placeholder="{{ 'LIBRARY.ADD.PUBLISHED' | translate }}">
									</div>
									<div class="form-group col-xs-6">
										<label class="" for="new_language">{{ 'LIBRARY.ADD.LANGUAGE' | translate }}:</label>
										<select class="form-control" id="new_language" ng-init="newbook.language='cze'" ng-options="lang[0] as lang[1] for lang in languages" ng-model="newbook.language">
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="" for="new_publisher">{{ 'LIBRARY.ADD.PUBLISHER' | translate }}:</label>
									<input type="text" id="new_publisher" ng-model="newbook.publisher" class="form-control" placeholder="{{ 'LIBRARY.ADD.PUBLISHER' | translate }}">
								</div>
							</div>
							<hr>
							<div class="form-group">
								<label class="sr-only" for="new_actions">{{ 'LIBRARY.ADD.ACTIONS.LABEL' | translate }}:</label>
								<button class="btn btn-sm" ng-class="{'btn-primary':!newbook.actions.sell, 'btn-success':newbook.actions.sell}" ng-model="newbook.actions.sell" ng-init="newbook.actions.sell=false" ng-click="newbook.actions.sell=!newbook.actions.sell"><i ng-class="{'icon-check':newbook.actions.sell, 'icon-check-empty':!newbook.actions.sell}" class="icon-large"></i> {{ 'LIBRARY.ADD.ACTIONS.SELL' | translate }}</button>
								<button class="btn btn-sm" ng-class="{'btn-primary':!newbook.actions.donate, 'btn-success':newbook.actions.donate}" ng-model="newbook.actions.donate" ng-init="newbook.actions.donate=false" ng-click="newbook.actions.donate=!newbook.actions.donate"><i ng-class="{'icon-check':newbook.actions.donate, 'icon-check-empty':!newbook.actions.donate}" class="icon-large"></i> {{ 'LIBRARY.ADD.ACTIONS.DONATE' | translate }}</button>
								<button class="btn btn-sm" ng-class="{'btn-primary':!newbook.actions.lend, 'btn-success':newbook.actions.lend}" ng-model="newbook.actions.lend" ng-init="newbook.actions.lend=false" ng-click="newbook.actions.lend=!newbook.actions.lend"><i ng-class="{'icon-check':newbook.actions.lend, 'icon-check-empty':!newbook.actions.lend}" class="icon-large"></i> {{ 'LIBRARY.ADD.ACTIONS.LEND' | translate }}</button>
							</div>
							<hr>
							<button ng-click="addbook(); log()" ng-disabled="disable" class="btn btn-default btn-success pull-center" style="margin-bottom:15px;width:100%"><i class="icon-plus icon-large"></i>&nbsp {{ 'LIBRARY.ADD.BUTTON' | translate }}&nbsp</button>
							{{ warning_text }}
						</fieldset>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="row" style="heigth:30px;min-height:30px;width:100%">
</div>
<div class="row info" info="library">
</div>
